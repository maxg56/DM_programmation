<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Devoir à la maison</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {  background-color: #f8f8f8; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ef2929; } /* Alert */
    code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #c4a000; } /* Attribute */
    code span.bn { color: #0000cf; } /* BaseN */
    code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4e9a06; } /* Char */
    code span.cn { color: #000000; } /* Constant */
    code span.co { color: #8f5902; font-style: italic; } /* Comment */
    code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
    code span.dt { color: #204a87; } /* DataType */
    code span.dv { color: #0000cf; } /* DecVal */
    code span.er { color: #a40000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #0000cf; } /* Float */
    code span.fu { color: #000000; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
    code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
    code span.ot { color: #8f5902; } /* Other */
    code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
    code span.sc { color: #000000; } /* SpecialChar */
    code span.ss { color: #4e9a06; } /* SpecialString */
    code span.st { color: #4e9a06; } /* String */
    code span.va { color: #000000; } /* Variable */
    code span.vs { color: #4e9a06; } /* VerbatimString */
    code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pandoc_nico.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Devoir à la maison</h1>
</header>
<h1 id="le-code-secret">Le code secret</h1>
<p>Vous avez récupéré un message contenant un code secret. Ce listing se présente sous la forme d’une liste de chaînes de caractères. Chaque chaîne contient des lettres majuscules ou minuscules et au minimum un chiffre entre 1 et 9.</p>
<p>Par exemple :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>message <span class="op">=</span> [</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>     <span class="st">&quot;AerE4vcL5Dfgf9Yv&quot;</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>     <span class="st">&quot;ShjhgJ5kHdVjhBsdfK&quot;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>]</span></code></pre></div>
<p>Afin de décoder le code secret, qui est un nombre entier, vous devez :</p>
<ul>
<li>trouver le premier et le dernier chiffre présent dans chaque chaîne,</li>
<li>créer un nombre à deux chiffres en les concaténant,</li>
<li>multiplier tous les nombres ainsi obtenus.</li>
</ul>
<p>Dans l’exemple précédent :</p>
<ul>
<li>le premier nombre caché dans la première chaîne <code>"4"</code>, le dernier <code>"9"</code>. On retient donc <code>49</code> ;</li>
<li>le nombre caché dans la seconde chaîne est <code>55</code> (il n’y a qu’un seul chiffre qui est donc le premier et le dernier !) ;</li>
<li>le code secret vaut donc <code>49 * 55 = 2695</code>.</li>
</ul>
<p>Compléter la fonction <code>code_secret</code> qui prend en paramètre <code>message</code> (la liste des chaînes de caractères) et renvoie l’entier correspondant au code secret.</p>
<h1 id="aplatir-une-liste">Aplatir une liste</h1>
<p>Dans cet exercice on appelle <em>conteneur</em> une liste python <strong>non vide</strong> dont tous les éléments sont soit des nombres entiers, soit des conteneurs. Il s’agit donc d’une définition <em>récursive</em>.</p>
<p>Par exemple <code>c = [3, 8, [5, [7], 6, [1, [8, 0]]], 2]</code>. Les éléments de <code>c</code> sont (dans cet ordre) :</p>
<ul>
<li><code>3</code> qui est un entier ;</li>
<li><code>8</code> qui est un entier ;</li>
<li><code>[5, [7], 6, [1, [8, 0]]]</code> qui est un <em>conteneur</em> ;</li>
<li><code>2</code> qui est un entier.</li>
</ul>
<p>On demande d’écrire la fonction <code>aplatir</code> qui prend en paramètre un conteneur et renvoie la liste de tous les entiers présents dans celui-ci. Ces entiers seront classés dans l’ordre dans lequel ils apparaissent lors de l’affichage du conteneur dans la console.</p>
<p>On s’interdit toute manipulation de la chaîne de caractères représentant le conteneur. Il est donc interdit de simplement supprimer les « crochets intérieurs » de <code>str(conteneur)</code>.</p>
<p>On aura donc :</p>
<pre class="pycon"><code>&gt;&gt;&gt; a = [3, 8, [5, [7]]]
&gt;&gt;&gt; aplatir(a)
[3, 8, 5, 7]
&gt;&gt;&gt; b = [[5, [7], 6]]
&gt;&gt;&gt; aplatir(b)
[5, 7, 6]
&gt;&gt;&gt; c = [3, 8, [5, [7], 6, [1, [8, 0]]], 2]
&gt;&gt;&gt; aplatir(c)
[3, 8, 5, 7, 6, 1, 8, 0, 2]</code></pre>
<h1 id="solitaire">Solitaire</h1>
<p>On considère le jeu suivant dont la donnée est une pile ne contenant que des nombres entiers. La pile contient initialement au mois deux nombres.</p>
<p>Les règles sont les suivantes :</p>
<ul>
<li>si, à un moment, la pile contient un unique élément, la partie est gagnée ;</li>
<li>sinon si les deux éléments en haut de la pile ont la même parité, on les remplace par leur demie-somme et la partie continue ;</li>
<li>s’ils n’ont pas la même parité, la partie est perdue.</li>
</ul>
<p>On rappelle que la demie-somme de deux nombres <code>a</code> et <code>b</code> vaut <code>(a + b) // 2</code>. On utilise une division entière car si <code>a</code> et <code>b</code> ont la même parité, leur demie-somme est un entier.</p>
<p>Par exemple, la pile <code>(Bas) 1 - 4 - 9 - 3 (Haut)</code> est gagnante. En effet lors de la partie, cette pile prend successivement les valeurs :</p>
<ul>
<li><code>(Bas) 1 - 4 - 9 - 2 (Haut)</code> dans son état initial ;</li>
<li><code>(Bas) 1 - 4 - 6 (Haut)</code> après une étape ;</li>
<li><code>(Bas) 1 - 5 (Haut)</code> après deux étapes ;</li>
<li><code>(Bas) 3 (Haut)</code> après trois étapes. La pile ne contient plus qu’un seul élément : elle est gagnante.</li>
</ul>
<p>Par contre, la pile <code>(Bas) 7 - 3 - 8 - 2 (Haut)</code> est perdante :</p>
<ul>
<li><code>(Bas) 7 - 3 - 8 - 2 (Haut)</code> dans son état initial ;</li>
<li><code>(Bas) 7 - 3 - 5 (Haut)</code> après une étape ;</li>
<li><code>(Bas) 7 - 4 (Haut)</code> après deux étapes. <code>4</code> et <code>7</code> n’ont pas la même parité : la pile est perdante.</li>
</ul>
<p>On représente les piles à l’aide d’objets de la classe <code>Pile</code>. Les seules actions possibles sont :</p>
<ul>
<li><code>p = Pile()</code> : crée d’une pile vide ;</li>
<li><code>p.est_vide()</code> : renvoie <code>True</code> si la pile <code>p</code> est vide, <code>False</code> dans le cas contraire ;</li>
<li><code>p.empile(x)</code> : empile <code>x</code> dans la pile <code>p</code> ;</li>
<li><code>p.depile()</code> : dépile la valeur en haut de la pile et la renvoie. Lève une erreur si la pile est vide.</li>
</ul>
<p>Il est donc impossible d’exécuter l’instruction <code>len(pile)</code>.</p>
<p>La classe <code>Pile</code> est déjà importée dans le fichier <code>solitaire.py</code>.</p>
<p>On demande de compléter la fonction <code>est_gagnante</code> qui prend en argument une pile de départ, simule une partie du jeu et renvoie <code>True</code> si la partie est gagnante, <code>False</code> dans le cas contraire.</p>
<pre class="pycon"><code>&gt;&gt;&gt; pile = Pile()
&gt;&gt;&gt; valeurs = (1, 4, 9, 3)
&gt;&gt;&gt; for x in valeurs:  # crée la pile (Bas) 1 - 4 - 9 - 3 (Haut)
        pile.empile(x)
&gt;&gt;&gt; est_gagnante(pile)
True
&gt;&gt;&gt; pile = Pile()
&gt;&gt;&gt; valeurs = (7, 3, 8, 2)
&gt;&gt;&gt; for x in valeurs:  # crée la pile (Bas) 7 - 3 - 8 - 2 (Haut)
        pile.empile(x)
&gt;&gt;&gt; est_gagnante(pile)
False</code></pre>
<h1 id="de-proche-en-proche">De proche en proche</h1>
<p>On considère dans cet exercice des graphes orientés non pondérés contenant <span class="math inline">\(N\)</span> sommets, chacun d’entre eux ayant exactement <span class="math inline">\(k\)</span> voisins.</p>
<p>Aucun sommet ne pointe sur lui-même.</p>
<figure>
<img src="proche_en_proche/graphe_1.png" style="width:50.0%" alt="Exemple de graphe" /><figcaption aria-hidden="true">Exemple de graphe</figcaption>
</figure>
<p>Le graphe ci-dessus contient <span class="math inline">\(N = 10\)</span> sommets (numérotés de <span class="math inline">\(0\)</span> à <span class="math inline">\(9\)</span>) et chaque sommet a exactement <span class="math inline">\(k = 2\)</span> voisins.</p>
<p>On représente ce graphe à l’aide d’une liste d’adjacences :</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>graphe <span class="op">=</span> {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>    <span class="dv">0</span>: [<span class="dv">8</span>, <span class="dv">1</span>],</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>    <span class="dv">1</span>: [<span class="dv">2</span>, <span class="dv">6</span>],</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>    <span class="dv">2</span>: [<span class="dv">3</span>, <span class="dv">7</span>],</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>    <span class="dv">3</span>: [<span class="dv">9</span>, <span class="dv">5</span>],</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>    <span class="dv">4</span>: [<span class="dv">7</span>, <span class="dv">8</span>],</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>    <span class="dv">5</span>: [<span class="dv">0</span>, <span class="dv">9</span>],</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>    <span class="dv">6</span>: [<span class="dv">4</span>, <span class="dv">0</span>],</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>    <span class="dv">7</span>: [<span class="dv">5</span>, <span class="dv">2</span>],</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>    <span class="dv">8</span>: [<span class="dv">6</span>, <span class="dv">3</span>],</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>    <span class="dv">9</span>: [<span class="dv">1</span>, <span class="dv">4</span>],</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>}</span></code></pre></div>
<p>On appelle <em>chemin</em> une liste Python contenant un certain nombre d’entiers tous compris entre <span class="math inline">\(0\)</span> et <span class="math inline">\(k - 1\)</span> (inclus l’un et l’autre) : chaque entier <span class="math inline">\(p\)</span> indique le <em>pas</em> à effectuer à partir du sommet actuel. Ce <em>pas</em> est l’indice du prochain sommet dans la liste des voisins du sommet actuel.</p>
<p>Si l’on pose par exemple <code>chemin = [0, 1, 1]</code>, le chemin comporte <span class="math inline">\(3\)</span> pas. Le <code>0</code> à la première position indique que, lors du premier pas, on se rend sur le voisin d’indice <code>0</code> du sommet actuel. Le <code>1</code> qui suit indique que, lors du deuxième pas, on se rend sur le voisin d’indice <code>1</code> du sommet atteint après la première étape.</p>
<p>En démarrant sur le sommet <span class="math inline">\(0\)</span> du graphe précédent, on obtient le parcours suivant :</p>
<p><span class="math display">\[0 \rightarrow 8 \rightarrow 3 \rightarrow 5\]</span></p>
<p>Par contre, si l’on démarre du sommet <span class="math inline">\(1\)</span>, on obtient :</p>
<p><span class="math display">\[1 \rightarrow 2 \rightarrow 7 \rightarrow 2\]</span></p>
<p>On remarque que lors de ce parcours on passe deux fois par le sommet <span class="math inline">\(2\)</span>.</p>
<p>On demande d’écrire deux fonctions.</p>
<p>La fonction <code>arrivee</code> prend trois paramètres :</p>
<ul>
<li>la liste d’adjacence <code>graphe</code> représentant le graphe étudié ;</li>
<li>le sommet de départ (entier <code>depart</code>) ;</li>
<li>le chemin à effectuer (liste d’entiers <code>chemin</code>).</li>
</ul>
<p>Cette fonction renvoie le sommet d’arrivée lorsque l’on parcourt le chemin en démarrant au sommet de départ.</p>
<p>La fonction <code>nombre_visites</code> prend trois paramètres :</p>
<ul>
<li>la liste d’adjacence <code>graphe</code> représentant le graphe étudié ;</li>
<li>le sommet de départ (entier <code>depart</code>) ;</li>
<li>le chemin à effectuer (liste d’entiers <code>chemin</code>).</li>
</ul>
<p>Cette fonction renvoie le nombre de sommets distincts rencontrés lorsque l’on parcourt le chemin en démarrant au sommet de départ. Ce nombre de sommet est toujours supérieur ou égal à <span class="math inline">\(1\)</span>.</p>
<p>On aura donc (on utilise le graphe et le chemin définis plus haut ):</p>
<pre class="pycon"><code>&gt;&gt;&gt; arrivee(graphe, 0, chemin)
5
&gt;&gt;&gt; arrivee(graphe, 1, chemin)
2
&gt;&gt;&gt; nombre_visites(graphe, 0, chemin)
4
&gt;&gt;&gt; nombre_visites(graphe, 1, chemin)
3</code></pre>
</body>
</html>
